<%- include('../../partials/dashboard') %>

    <main class="flex-grow flex-wrap p-2 md:p-8 lg:p-12 bg-gradient-to-r from-blue-50 to-blue-200">
        <header
            class="flex items-center justify-between border-b pb-6 mb-8 bg-gradient-to-r from-blue-500 to-blue-900 text-white rounded-lg shadow-lg px-8 py-6">
            <h2 class="text-3xl font-bold text-white">Update Student</h2>
            <p class="text-sm sm:hidden lg:block text-white">Fill out the form below to update student information.
            </p>
        </header>

        <%- include('../../partials/flashMessage') %>


            <!-- Student Form -->
            <section id="student-form">
                <form action="/dashboard/student/edit/<%= students._id %>" method="POST"
                    class="bg-white p-8 shadow-md rounded-lg">

                    <!-- Name Input -->
                    <div class="mb-6">
                        <label for="name" class="block text-sm font-medium text-gray-700">Student's Name</label>
                        <input type="text" name="name" value="<%= students.name %>"
                            class="mt-1 block w-full py-3 px-4 bg-gray-100 outline-none rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                            placeholder="Enter student's full name" required />
                    </div>

                    <!-- Father's Name Input -->
                    <div class="mb-6">
                        <label for="fname" class="block text-sm font-medium text-gray-700">Father's Name</label>
                        <input type="text" name="fname" value="<%= students.fname %>"
                            class="mt-1 block w-full py-3 px-4 bg-gray-100 outline-none rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                            placeholder="Enter father's full name" required />
                    </div>

                    <!-- Roll Number Input -->
                    <div class="mb-6">
                        <label for="roll_number" class="block text-sm font-medium text-gray-700">Roll Number</label>
                        <input type="number" name="roll_number" value="<%= students.roll_number %>"
                            class="mt-1 block w-full py-3 px-4 bg-gray-100 outline-none rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                            placeholder="Enter roll number" required />
                    </div>

                    <!-- Phone Input -->
                    <div class="mb-6">
                        <label for="phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                        <input type="text" name="phone" value="<%= students.phone %>"
                            class="mt-1 block w-full py-3 px-4 bg-gray-100 outline-none rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                            placeholder="Enter student's phone number" required />
                    </div>

                    <!-- Date of Birth Input -->
                    <div class="mb-6">
                        <label for="dob" class="block text-sm font-medium text-gray-700">Date of Birth</label>
                        <input type="date" name="dob" value="<%= students.dob.toISOString().split('T')[0] %>"
                            class="mt-1 block w-full py-3 px-4 bg-gray-100 outline-none rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                            required />
                    </div>

                    <!-- Gender Selection -->
                    <div class="mb-6">
                        <label for="gender" class="block text-sm font-medium text-gray-700">Gender</label>
                        <select name="gender" id="gender"
                            class="px-4 py-2 w-full sm:w-2/5 md:w-3/5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500 text-sm">
                            <option value="" disabled>Select Gender</option>
                            <option value="Male" <%=students.gender==='Male' ? 'selected' : '' %>>Male</option>
                            <option value="Female" <%=students.gender==='Female' ? 'selected' : '' %>>Female</option>
                            <option value="Other" <%=students.gender==='Other' ? 'selected' : '' %>>Other</option>
                        </select>
                    </div>

                    <!-- Class Selection -->
                    <div class="mb-4">
                        <label for="class" class="block text-sm font-semibold text-gray-700">Select Class</label>
                        <select id="class" name="stdClass"
                            class="px-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-500"
                            required>
                            <option value="" disabled selected>
                                <%= classes._id %>
                            </option>
                            <% classes.forEach(classItem=> { %>
                                <option value="<%= classItem._id %>" <%=students.stdClass &&
                                    students.stdClass.toString()===classItem._id.toString() ? 'selected' : '' %>>
                                    <%= classItem.name %>
                                        <% }) %>
                        </select>
                    </div>

                    <!-- Address Input -->
                    <div class="mb-6">
                        <label for="address" class="block text-sm font-medium text-gray-700">Address</label>
                        <input type="text" name="address" value="<%= students.address %>"
                            class="mt-1 block w-full py-3 px-4 bg-gray-100 outline-none rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200"
                            placeholder="Enter student's address" />
                    </div>

                    <!-- Enrollment Date Input -->
                    <div class="mb-6">
                        <label for="enrollmentDate" class="block text-sm font-medium text-gray-700">Enrollment
                            Date</label>
                        <input type="date" name="enrollmentDate"
                            value="<%= students.enrollmentDate ? students.enrollmentDate.toISOString().split('T')[0] : '' %>"
                            class="mt-1 block w-full py-3 px-4 bg-gray-100 outline-none rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200" />
                    </div>

                    <!-- Submit Button -->
                    <div class="flex justify-end">
                        <button type="submit"
                            class="px-6 py-2 bg-blue-800 text-white text-sm font-semibold rounded-lg shadow hover:bg-blue-700 focus:ring focus:ring-blue-200 focus:outline-none">
                            Update Student
                        </button>
                    </div>
                </form>
            </section>
    </main>

    <%- include('../../partials/dashboardfooter') %>